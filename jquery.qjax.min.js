(function(t){t.qjax=function(n){var o=t.extend({timeout:null,onError:null,onStart:null,onStop:null,onTimeout:null,onQueueChange:null,ajaxSettings:{url:"",timeout:5e3,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST"}},n),e=[],l=null,u=null,a=t(document),i=this,r=function(){o.onQueueChange&&o.onQueueChange.call(i,e.length),e.length>=1&&!l&&(l=e.shift(),l.options.isCallback?l.options.complete():t.ajax(l.options))};return this.Clear=function(){e=[]},this.Queue=function(n,u){var a={},i=null;n instanceof Function?(a={isCallback:!0},i=n):(a=t.extend({},o.ajaxSettings,n||{}),i=a.complete),a.complete=function(t,n){l&&(l.complete&&l.complete.call(l.thisArg||this,t,n),l=null,r())},e.push({options:a,complete:i,thisArg:u}),r()},o.onError&&a.ajaxError(o.onError),(o.onStart||o.timeout)&&a.ajaxStart(function(){o.onStart&&o.onStart.call(i),o.onTimeout&&o.timeout&&e.length>=1&&(u&&clearTimeout(u),u=setTimeout(o.onTimeout,o.timeout))}),o.onStop&&a.ajaxStop(function(){o.onStop.call(i)}),this}})(jQuery);