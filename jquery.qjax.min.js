/*!
 * qJax jQuery plugin v1.3 - http://bitbucket.org/rushtheweb/qjax/ - Copyright 2011-2012, Michael Gunderson - Dual licensed under the MIT or GPL Version 2 licenses. Same as jQuery.
 */(function(a){a.qjax=function(b){var c=a.extend({timeout:null,onError:null,onStart:null,onStop:null,onTimeout:null,onQueueChange:null,ajaxSettings:{url:"",timeout:5e3,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST"}},b),d=[],e=null,f=null,g=a(document),h=this,i=function(){c.onQueueChange&&c.onQueueChange.call(h,d.length),d.length>=1&&!e&&(e=d.shift(),e.options.isCallback?e.options.complete():a.ajax(e.options))};return this.Clear=function(){d=[]},this.Queue=function(b,f){var g={},h=null;b instanceof Function?(g={isCallback:!0},h=b):(g=a.extend({},c.ajaxSettings,b||{}),h=g.complete),g.complete=function(a,b){e&&(e.complete&&e.complete.call(e.thisArg||this,a,b),e=null,i())},d.push({options:g,complete:h,thisArg:f}),i()},c.onError&&g.ajaxError(c.onError),(c.onStart||c.timeout)&&g.ajaxStart(function(){c.onStart&&c.onStart.call(h),c.onTimeout&&c.timeout&&d.length>=1&&(f&&clearTimeout(f),f=setTimeout(c.onTimeout,c.timeout))}),c.onStop&&g.ajaxStop(function(){c.onStop.call(h)}),this}})(jQuery);