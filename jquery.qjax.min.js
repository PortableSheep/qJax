/*!
 * qJax jQuery plugin v1.1 - http://bitbucket.org/rushtheweb/qjax/
 * Copyright 2011-2012, Michael Gunderson - Dual licensed under the MIT or GPL Version 2 licenses. Same as jQuery.
 */(function(a){a.qjax=function(b){var c=a.extend({timeout:null,onError:null,onStart:null,onStop:null,onTimeout:null,onQueueChange:null,ajaxSettings:{url:"",timeout:5e3,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST"}},b),d=[],e=null,f=null,g=a(document),h=this,i=function(){c.onQueueChange&&c.onQueueChange.call(h,d.length)};return this.Clear=function(){e&&(e.abort(),e=null),d=[]},this.Queue=function(b,f){var g=a.extend({},c.ajaxSettings,b||{}),h=g.complete;g.complete=function(b,c){var f=d.shift();f&&f.complete&&f.complete.call(f.thisArg||this,b,c),i(),e=null,d.length>=1&&!e&&(e=a.ajax(d[0].options))},d.push({options:g,complete:h,thisArg:f}),i(),d.length==1&&!e&&(e=a.ajax(d[0].options))},c.onError&&g.ajaxError(c.onError),(c.onStart||c.timeout)&&g.ajaxStart(function(){c.onStart&&c.onStart.call(h),c.onTimeout&&c.timeout&&d.length>=1&&(f&&clearTimeout(f),f=setTimeout(c.onTimeout,c.timeout))}),c.onStop&&g.ajaxStop(function(){c.onStop.call(h)}),this}})(jQuery);